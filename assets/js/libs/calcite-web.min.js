!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.calcite=e()}(this,function(){"use strict";function t(t,e){var n=" "+t.className+" ";return n.indexOf(" "+e+" ")!==-1}function e(e,n){n.split(" ").forEach(function(n){t(e,n)||(e.className+=" "+n)})}function n(t,e){var n=" "+t.className+" ";e.split(" ").forEach(function(t){n=n.replace(" "+t+" "," ")}),t.className=n.trim()}function r(r,o){t(r,o)?n(r,o):e(r,o)}function o(t){t=d(t),t.forEach(function(t){n(t,"is-active")})}function i(t){t=d(t),t.forEach(function(t){e(t,"is-active")})}function a(t,n){o(t),e(n,"is-active")}function c(e,n){var r;for(r=n;r&&(1!==r.nodeType||!t(r,e));r=r.parentNode);return r}function d(t){return Array.isArray(t)?t:Array.prototype.slice.call(t)}function u(t,e){var n=e||document,r=n.querySelectorAll(t);return d(r)}function s(t,e){var n=e.filter(function(e){var n=t.toLowerCase(),r=e.innerHTML.toLowerCase();return r.indexOf(n)!==-1});return n}function f(t){t.forEach(function(t){if(t){var e=t.getAttribute("aria-hidden");"true"!==e?t.setAttribute("aria-hidden",!0):t.removeAttribute("aria-hidden")}})}function l(t){t.forEach(function(t){t&&t.setAttribute("aria-hidden",!0)})}function v(t){t.forEach(function(t){t&&t.removeAttribute("aria-hidden")})}function p(t){if(t){var e=t.getAttribute("aria-expanded");e?t.removeAttribute("aria-expanded"):t.setAttribute("aria-expanded","true")}}function m(){return"click"}function b(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):void 0}function w(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):void 0}function h(t){return t.target||t.srcElement}function y(t){return t.preventDefault?t.preventDefault():void(t.returnValue&&(t.returnValue=!1))}function g(t){return t=t||window.event,t.stopPropagation?t.stopPropagation():void(t.cancelBubble&&(t.cancelBubble=!0))}function A(t,e,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function k(){}function j(){function t(t){t?b(t.node,"click",e):n.forEach(function(t){b(t,"click",e)})}function e(t){t.preventDefault();var e=t.target.getAttribute("data-clipboard-target");document.querySelector(e).select(),document.execCommand("copy")}var n=u(".js-copy-to-clipboard");X.on("clipboard:bind",t),X.emit("clipboard:bind")}function E(){function e(t){t?n(t.node):a.forEach(function(t){n(t)})}function n(e){e.setAttribute("aria-live","polite"),e.setAttribute("role","tablist"),d(e.children).forEach(function(e){var n=e.querySelector(".accordion-title");n.setAttribute("role","tab"),n.setAttribute("tabindex","0"),t(e,"is-active")&&e.setAttribute("aria-expanded","true"),b(n,m(),o),b(e,"keyup",function(t){13===t.keyCode&&o(t)})})}function o(t){g(t);var e=c("accordion-section",h(t));X.emit("accordion:toggle",{node:e})}function i(t){r(t.node,"is-active"),p(t.node)}var a=u(".js-accordion");X.on("accordion:bind",e),X.on("accordion:toggle",i),X.emit("accordion:bind")}function x(t){w(document.body,m(),x),u(".js-dropdown").forEach(function(t){n(t,"is-active")}),u(".js-dropdown-toggle").forEach(function(t){t.setAttribute("aria-expanded","false")}),w(document,"keydown",q)}function S(n){if(n){var r=t(n.node,"is-active");X.emit("dropdown:close"),r||(e(n.node,"is-active"),n.target&&n.target.setAttribute("aria-expanded","true"),b(document,"keydown",q)),t(n.node,"is-active")&&b(document.body,m(),x)}}function q(t){40===t.keyCode|38===t.keyCode&&t.preventDefault()}function D(t){var e=u(".js-dropdown-toggle");e.forEach(function(t){var e=!1;U.dropdowns.forEach(function(n){n.target===t&&n.event===m()&&n.fn===N&&(e=!0)}),e||(U.dropdowns.push({target:t,event:m(),fn:N}),b(t,m(),N))})}function C(){var t=document.querySelector(".js-dropdown.is-active");return!!t&&t}function T(t){var e=document.activeElement,n=t.links.indexOf(e);n==-1?n=t.forward?0:t.links.length-1:t.forward?(n+=1,n==t.links.length&&(n=0)):(n-=1,n==-1&&(n=t.links.length-1)),t.links[n].focus()}function L(){var t=C();if(t){var e=u(".dropdown-link",t);X.emit("dropdown:focus",{links:e,forward:!0})}}function O(){var t=C();if(t){var e=u(".dropdown-link",t);X.emit("dropdown:focus",{links:e,forward:!1})}}function N(t){y(t),g(t);var e=c("js-dropdown",t.target);X.emit("dropdown:toggle",{node:e,target:t.target})}function M(){X.on("dropdown:toggle",S),X.on("dropdown:close",x),X.on("keyboard:escape",x),X.on("keyboard:arrow:down",L),X.on("keyboard:arrow:up",O),X.on("dropdown:focus",T),Z=!0}function P(){Z||M(),D()}function z(){function r(n){X.emit("drawer:close");var r=document.querySelector('.js-drawer[data-drawer="'+n.id+'"]'),o=t(r,"drawer-right"),a=t(r,"drawer-left");r.setAttribute("tabindex",0),e(r,"is-active"),o?e(p,"drawer-right-is-active"):a&&e(p,"drawer-left-is-active"),l([p,h]),b(r,m(),d),b(document,"focusin",i)}function o(t){if(t){var e=document.querySelector('.js-drawer[data-drawer="'+t.id+'"]');e.removeAttribute("tabindex"),n(e,"is-active")}else A.forEach(function(t){t.removeAttribute("tabindex"),n(t,"is-active")});n(p,"drawer-left-is-active"),n(p,"drawer-right-is-active"),v([p,h]),w(document,"focusin",i),f&&f.focus()}function i(e){c("js-drawer",e.target)||A.forEach(function(e){t(e,"is-active")&&e.focus()})}function a(t){t?b(t.node,m(),s):g.forEach(function(t){b(t,m(),s)})}function d(e){t(e.target,"js-drawer")&&X.emit("drawer:close")}function s(t){y(t);var e=t.target.getAttribute("data-drawer");X.emit("drawer:open",{id:e})}var f,p=document.querySelector(".wrapper"),h=document.querySelector(".footer"),g=u(".js-drawer-toggle"),A=u(".js-drawer");X.on("drawer:open",r),X.on("keyboard:escape",o),X.on("drawer:close",o),X.on("drawer:bind",a),X.emit("drawer:bind")}function H(){var r=u(".js-expand-toggle"),o=document.querySelectorAll(".js-expand");r.forEach(function(r){b(r,m(),function(i){y(i);var c=r.getAttribute("data-expand"),d=document.querySelector('.js-expand[data-expand="'+c+'"]'),u=t(d,"is-active"),s=t(d,"is-active");a(o,d),u&&s?n(d,"is-active"):e(d,"is-active")})})}function Y(){function i(){var t=u(".js-filter-dropdown");t.forEach(function(t){var r=t.getAttribute("data-filter-dropdown"),o=t.querySelector(".filter-dropdown-input");b(o,"focus",f);for(var i=t.querySelectorAll(".js-filter-dropdown-open"),a=0;a<i.length;a++){var c=i[a];c.setAttribute("data-id",r),b(c,m(),v)}for(var u=t.querySelectorAll(".js-filter-dropdown-close"),p=0;p<u.length;p++){var w=u[p];w.setAttribute("data-id",r),b(w,m(),v)}for(var h=t.querySelectorAll(".filter-dropdown-link"),y=0;y<h.length;y++){var g=h[y];g.setAttribute("data-item-id",y),b(g,m(),l)}b(o,"keyup",function(t){var r=d(h);r.forEach(function(t){e(t,"hide")}),s(o.value,r).forEach(function(t){n(t,"hide")})})})}function a(t){var e=c("js-filter-dropdown",t.target);return{parent:e,id:e.getAttribute("data-filter-dropdown"),item:t.target}}function f(t){g(t);var e=a(t);X.emit("filterDropdown:input:focus",e)}function l(t){y(t),g(t);var e=a(t);X.emit("filterDropdown:select",e)}function v(t){t.preventDefault();var e=a(t);r(t.target,"is-active"),X.emit("filterDropdown:toggle",e)}function p(e){var n=e.parent.querySelector(".filter-dropdown-list");t(n,"is-active")?X.emit("filterDropdown:close",e):X.emit("filterDropdown:open",e)}function w(t){r(t.item,"is-active")}function h(t){var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),r=e[t.i];n(r,"is-active");var o=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),i={parent:t.parent,id:t.id,active:o};X.emit("filterDropdown:active",i)}function A(t){k();var r=t.parent.querySelector(".filter-dropdown-list");e(r,"is-active");var o=u(".js-filter-dropdown-close",t.parent),i=u(".js-filter-dropdown-open",t.parent);i.forEach(function(t){return n(t,"is-active")}),o.forEach(function(t){return e(t,"is-active")})}function k(t){var r=document.querySelectorAll(".filter-dropdown-list");o(r);var i=u(".js-filter-dropdown-open"),a=u(".js-filter-dropdown-close");i.forEach(function(t){return e(t,"is-active")}),a.forEach(function(t){return n(t,"is-active")})}function j(t){var e=t.parent.querySelectorAll(".filter-dropdown-link.is-active"),n={parent:t.parent,id:t.id,active:e};X.emit("filterDropdown:active",n)}function E(t){X.emit("filterDropdown:active:clear",t);var r=t.parent.querySelector(".js-flilter-dropdown-no-filters");t.active.length>0?e(r,"hide"):n(r,"hide");for(var o=0;o<t.active.length;o++){var i=t.active[o],a='<span class="filter-dropdown-active">'+i.innerHTML+'<a class="filter-dropdown-remove" href="#" data-item-id=\''+o+"'></a></span>";t.parent.insertAdjacentHTML("beforeend",a);var c=t.parent.querySelector('.filter-dropdown-remove[data-item-id="'+o+'"]');b(c,m(),x)}}function x(t){t.preventDefault();var e=a(t);e.i=t.target.getAttribute("data-item-id"),X.emit("filterDropdown:select:remove",e)}function S(t){for(var e=t.parent.querySelectorAll(".filter-dropdown-active"),n=0;n<e.length;n++)t.parent.removeChild(e[n])}X.on("filterDropdown:bind",i),X.on("filterDropdown:select",w),X.on("filterDropdown:select",j),X.on("filterDropdown:select:remove",h),X.on("filterDropdown:active",E),X.on("filterDropdown:active:clear",S),X.on("filterDropdown:toggle",p),X.on("filterDropdown:open",A),X.on("filterDropdown:close",k),X.on("keyboard:escape",k),X.emit("filterDropdown:bind")}function B(){function r(){var t=[];return p&&t.push(p),h&&t.push(h),t}function i(t){if(X.emit("modal:close"),t){var n=document.querySelector('.js-modal[data-modal="'+t+'"]');n.removeAttribute("tabindex"),b(document,"focusin",s),e(n,"is-active"),l(r()),n.focus()}}function a(t){if(!t)return o(A);var e=document.querySelector('.js-modal[data-modal="'+t+'"]');n(e,"is-active"),e.setAttribute("tabindex",0),w(document,"focusin",s),v(r())}function d(t){t?b(t,m(),f):g.forEach(function(t){b(t,m(),f)})}function s(e){c("js-modal",e.target)||A.forEach(function(e){t(e,"is-active")&&e.focus()})}function f(t){y(t);var e=t.target.dataset.modal;X.emit("modal:open",e)}var p=document.querySelector(".wrapper"),h=document.querySelector(".footer"),g=u(".js-modal-toggle"),A=u(".js-modal");X.on("modal:open",i),X.on("keyboard:escape",a),X.on("modal:close",a),X.on("modal:bind",d),X.emit("modal:bind")}function G(){function r(r){var o=c("js-site-search",r.target),i=t(o,"is-active");i?(n(o,"is-active"),r.target.value=""):e(o,"is-active")}var o=u(".js-site-search");o.forEach(function(t){b(t,"focusin",r),b(t,"focusout",r)})}function I(){function t(){n.forEach(function(t){b(t,"change",e)})}function e(t){window.location.assign(t.currentTarget.value)}X.on("selectnav:bind",t);var n=u(".js-select-nav");X.emit("selectnav:bind")}function W(t){for(var e="",n=0;n<t;n++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function V(t){if(!t)throw new TypeError("Invalid argument `value` has no value.");this.value=V.EMPTY,t&&t instanceof V?this.value=t.toString():t&&"[object String]"===Object.prototype.toString.call(t)&&V.isGuid(t)&&(this.value=t),this.equals=function(t){return V.isGuid(t)&&this.value===t},this.isEmpty=function(){return this.value===V.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}function _(){function r(t){var r=V.raw();t.setAttribute("data-sticky-id",r);var o=t.parentNode,i=t.cloneNode("deep");e(i,"js-shim"),n(i,"js-sticky"),i.setAttribute("data-sticky-id",r),i.style.visibility="hidden",i.style.display="none",o.insertBefore(i,t)}function o(t){var n=t.element.getAttribute("data-sticky-id"),r=document.querySelector('.js-shim[data-sticky-id="'+n+'"]');n&&r&&(e(t.element,"is-sticky"),r.style.display="")}function i(t){var e=t.element.getAttribute("data-sticky-id"),r=document.querySelector('.js-shim[data-sticky-id="'+e+'"]');e&&r&&(n(t.element,"is-sticky"),r.style.display="none")}function a(e){d.forEach(function(n){var r=n.element;if(t(n.element,"is-sticky")){var o=n.element.getAttribute("data-sticky-id");r=document.querySelector('.js-shim[data-sticky-id="'+o+'"]')}if(r){var i=r.getAttribute("data-top")||0;n.top=r.offsetTop-parseInt(i,0)}n.top<e?X.emit("sticky:stick",n):X.emit("sticky:unstick",n)})}X.on("scrolling:at",a),X.on("sticky:stick",o),X.on("sticky:unstick",i);var c=u(".js-sticky"),d=c.map(function(t){var e=t.offsetTop,n=t.getAttribute("data-top")||0;t.style.top=n+"px";var o=t.getAttribute("data-sticky-id");return o||r(t),{top:e-parseInt(n,0),element:t}})}function J(){function e(){var e=u(".js-tab"),r=u(".js-tab-group"),o=u(".js-tab-section");r.forEach(function(t){t.setAttribute("aria-live","polite"),n(t),t.children[0].setAttribute("role","tablist");for(var e=t.querySelectorAll(".js-tab"),r=100/e.length,o=0;o<e.length;o++)e[o].style.maxWidth=r+"%"}),e.forEach(function(t){t.setAttribute("aria-expanded","false"),t.setAttribute("role","tab"),t.setAttribute("tabindex","0"),b(t,m(),i),b(t,"keyup",s)}),o.forEach(function(e){e.setAttribute("role","tabpanel");var n=t(e,"is-active");n?e.setAttribute("aria-expanded",!0):e.setAttribute("aria-expanded",!1)})}function n(t){var e=t.getAttribute("data-tab");if(e)return e;var n=V.raw();return t.setAttribute("data-tab",n),n}function r(t){var e=t.parent,n=d(e.querySelectorAll(".js-tab")),r=t.active,o=d(e.querySelectorAll(".js-tab-section")),i=n.indexOf(r),c=o[i];n.forEach(function(t){t.setAttribute("aria-expanded",!1)}),r.setAttribute("aria-expanded",!0),a(n,r),o.forEach(function(t){t.setAttribute("aria-expanded",!1)}),c.setAttribute("aria-expanded",!0),a(o,c)}function o(t){var e=t.target,r=c("js-tab-group",e),o=n(r);return{parent:r,id:o,active:e}}function i(t){t.preventDefault();var e=o(t);X.emit("tabs:active",e)}function s(t){var e=o(t);13===t.keycode&&X.emit("tabs:active",e)}X.on("tabs:bind",e),X.on("tabs:active",r),X.emit("tabs:bind")}function R(){function t(t){o.scrollLeft+=t}function r(){n(i,"is-active"),n(a,"is-active"),o.scrollLeft>0&&e(i,"is-active"),o.scrollLeft+o.clientWidth+5<o.scrollWidth&&e(a,"is-active")}var o=u(".js-nav-overflow")[0],i=u(".js-overflow-left")[0],a=u(".js-overflow-right")[0];o&&(i&&b(i,m(),t.bind(null,-40)),a&&b(a,m(),t.bind(null,40)),b(o,"scroll",r),b(window,"resize",r),r())}function $(t){27===t.keyCode?X.emit("keyboard:escape"):13===t.keyCode?X.emit("keyboard:return"):32===t.keyCode?X.emit("keyboard:space"):38===t.keyCode?X.emit("keyboard:arrow:up"):40===t.keyCode?X.emit("keyboard:arrow:down"):37===t.keyCode?X.emit("keyboard:arrow:left"):39===t.keyCode&&X.emit("keyboard:arrow:right")}function F(){X.emit("scrolling:at",window.pageYOffset)}function K(){for(;et.length;)et.shift().call()}function Q(t){for(var e in t)et.push(t[e]);Object.assign(this,t)}var U={dropdowns:[]};k.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){o.off(t,r),e.apply(n,arguments)}var o=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}};var X=new k,Z=!1,tt=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");V.EMPTY="00000000-0000-0000-0000-000000000000",V.isGuid=function(t){return t&&(t instanceof V||tt.test(t.toString()))},V.create=function(){return new V([W(2),W(1),W(1),W(1),W(3)].join("-"))},V.raw=function(){return[W(2),W(1),W(1),W(1),W(3)].join("-")},"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),b(document,"keyup",$),b(window,"scroll",A(F,100));var et=[E,j,P,z,H,Y,B,G,I,_,J,R],nt={version:"1.0.0-beta.25",click:m,addEvent:b,removeEvent:w,eventTarget:h,preventDefault:y,stopPropagation:g,throttle:A,hasClass:t,addClass:e,removeClass:n,toggleClass:r,removeActive:o,addActive:i,toggleActive:a,toggleAriaHidden:f,toggleAriaExpanded:p,closest:c,nodeListToArray:d,findElements:u,bus:X,accordion:E,dropdown:P,drawers:z,expander:H,filterDropdown:Y,modal:B,search:G,selectNav:I,sticky:_,tabs:J,thirdNav:R,extend:Q,init:K};return nt});